"use strict";function asyncGeneratorStep(t,e,i,n,s,o,a){try{var l=t[o](a),r=l.value}catch(t){return void i(t)}l.done?e(r):Promise.resolve(r).then(n,s)}function _asyncToGenerator(l){return function(){var t=this,a=arguments;return new Promise(function(e,i){var n=l.apply(t,a);function s(t){asyncGeneratorStep(n,e,i,s,o,"next",t)}function o(t){asyncGeneratorStep(n,e,i,s,o,"throw",t)}s(void 0)})}}!function(o){var t;o.onDomReady(function(){o.applyCom("body")}),o.registerOnce(".header",{ref:{nav:".nav",btns:".nav li.has-sub, .search-btn",navs:".subnav, .nav-popup, .search",menu:".menu",trangle:".subnav .trangle,.nav-popup .trangle",searchBlank:".search-blank"},isArticle:"article"===apower.pageType||"category"===apower.pageType,isAbout:"about"===apower.pageType,headerStatic:!1,mobileStyleWhenWidth:1024,init:function(){this.btns.filter(".has-sub:not(.support-li)").each(function(t,e){o.newComponent("icon",{type:"down",target:e})}),this.btns.filter(".search-btn").each(function(t,e){o.newComponent("icon",{type:"search-thick",target:e})}),this.initSearch(),this.initMobileIcon();var t=this.el.find(".nav li.store a");t.length&&o.newComponent("icon",{type:"store",target:t}),this.headerStatic="static"===this.el.css("position"),this.headerStatic||this.el.stopScroll(),this.el.find(".solution dt").on("click",this.onClickDtTrangle,this),this.initScroller(),o(window).$on("resize",this.onResize,this),this.isArticle&&window.innerWidth>this.mobileStyleWhenWidth?this.initArticleHeader():(this.btns.filter(".has-sub").$on("mouseenter",this.onEnterNavBtn,this),o.onToggleWidth(this.mobileStyleWhenWidth,function(){this.btns.$off("mouseenter",this.onEnterNavBtn,this),this.btns.$on("click",this.onClickNavBtn,this),this.nav.stopScroll(),this.navs.stopScroll(),this.trangle.$on("click",this.onClickTrangle,this)},function(){this.nav.show(),this.btns.$on("mouseenter",this.onEnterNavBtn,this),this.btns.$off("click",this.onClickNavBtn,this),this.nav.restoreScroll(),this.navs.restoreScroll()},this)),this.menu.$on("click",this.onClickMenu,this)},initMobileIcon:function(){this.el.find(".solution dt").append('<div class="dt-trangle"></div>'),this.el.find(".solution dt").addClass("active")},onClickDtTrangle:function(t){var e=o(t.currentTarget),i=e.siblings("dd");e.is(".active")?(i.hide(),e.removeClass("active")):(i.show(),e.addClass("active"))},initSearch:function(){var t=this.el.find(".search-btn"),e=this.el.find("form input[type=text]"),i=this.el.find(".input-field"),n=this.el.find(".search-btn input[type=submit]"),s=i.find(".search-close"),o=this.el.find("form");t.on("click",function(t){i.is(".active")&&e.val()||t.preventDefault()}),t.on("click",function(t){i.addClass("active"),n.addClass("active"),s.delay(400).fadeIn(200),i.stop().fadeIn(400,function(){e.focus()})}),s.on("click",function(t){i.removeClass("active"),n.removeClass("active"),s.fadeOut(200),e.val(""),i.stop().fadeOut(400,function(){i.show()})}),n.on("click",function(t){o.submit()})},initScroller:function(){("product"!==apower.pageType||o(window).width()<=this.mobileStyleWhenWidth)&&(apower.scroller.on("up",this.onScrollUp,this),apower.scroller.on("down",this.onScrollDown,this),apower.scroller.on("scroll",this.onScroll,this))},onResize:function(){this.nav.attr("hidden")&&window.innerWidth>this.mobileStyleWhenWidth&&this.nav.stop().fadeIn(300)},onEnterNavBtn:function(t){this.lastNav&&this.lastNav.hide();var e=o(t.target).closest("li"),i=this.navs.eq(this.btns.indexOf(e));e.addClass("active"),i.stop().fadeIn(this.lastNav?0:200),i.alignTo(e,"b",[0,6]),i.find('input[type="text"]').focus(),o.onceAllLeave([e,i],200,function(){e.removeClass("active"),i.stop().fadeOut(200),this.lastNav===i&&(this.lastNav=null)},this),this.lastNav=i},onClickNavBtn:function(t){t.preventDefault(),this.lastNavBtn&&this.lastNavBtn.removeClass("active"),this.lastNav&&this.lastNav.hide();var e=o(t.target).closest("li"),i=this.navs.eq(this.btns.indexOf(e));window.innerWidth>this.mobileStyleWhenWidth&&(this.nav.hide(),e.addClass("active")),window.innerWidth<=this.mobileStyleWhenWidth&&(e.after(i),e.siblings().removeClass("actived"),e.is(".actived")?(i.hide(),e.removeClass("actived")):(i.show(),e.addClass("actived"))),window.innerWidth>this.mobileStyleWhenWidth&&i.show(),i.find('input[type="text"]').focus(),this.lastNavBtn=e,this.lastNav=i,o(".mobile-review").hide()},onClickTrangle:function(){this.lastNav.hide(),this.nav.stop().show()},onClickMenu:function(){this.menu.hasClass("active")?(this.menu.removeClass("active"),this.nav.fadeOut(300),this.lastNavBtn&&this.lastNavBtn.removeClass("active"),this.lastNav&&this.lastNav.fadeOut(300),window.innerWidth<=this.mobileStyleWhenWidth&&this.btns.removeClass("actived"),this.lastNavBtn=this.lastNav=null):(this.nav.stop().fadeIn(300),this.menu.addClass("active"),o(".mobile-review").hide())},onScrollUp:function(t){this.scrollLocked||(this.el.removeClass("slide-up"),t<=50&&(this.el.css("transition","none"),setTimeout(function(){this.el.css("transition","")}.bind(this),0))),0!=t?this.el.addClass("not-top"):this.el.removeClass("not-top")},onScrollDown:function(){this.scrollLocked||this.headerStatic||this.el.addClass("slide-up")},onScroll:function(t){t>o(window).height()?this.el.addClass("scrolled-out-main"):this.el.removeClass("scrolled-out-main")},initArticleHeader:function(){this.nav.find(".product").$on("mouseenter",this.onEnterProductBtn,this),window.onhashchange=this.onHashChange.bind(this),this.hasHashSelector()&&this.onScrollDown()},hasHashSelector:function(){if(!location.hash)return!1;try{return o(location.hash),!0}catch(t){return!1}},onHashChange:function(){this.onScrollDown(),this.scrollLocked=!0,setTimeout(function(){this.scrollLocked=!1}.bind(this),50)},onEnterProductBtn:function(t){var e,i=o(t.target).closest(".product"),n=this.el.find(".solution"),s=this.el.find(".mac");i.addClass("active"),o.env.isWin?(n.show(),e=n):o.env.isMac&&(s.show(),e=s),o.onceAllLeave([i,e],200,function(){i.removeClass("active"),e.stop().fadeOut(200)},this)},initArticleWin:function(){this.el.find(".nav li").removeClass("has-sub").eq(0).addClass("active"),this.el.find(".search").appendTo(this.el.find(".wrapper")),this.el.find(".search-btn").remove(),this.el.find(".search").prepend('<div class="search-close"></div>'),this.el.find(".trangle").remove(),this.win=o('<div class="navwin"><div class="trangle"></div><div class="win-close"></div><div class="navwin-tabs"><div class="navwin-scroller"></div></div></div>'),this.el.after(this.win),this.win.find(".navwin-tabs").before(this.nav),this.el.find(".nav-popup").not(".search").removeClass("nav-popup").addClass("subnav");var t=this.win.find(".navwin-scroller"),e=o('<nav class="subnav store-nav"><ul><li></li></ul></nav>');e.find("li").append(this.win.find('a[href="/store/"]').clone()),t.append(this.el.find(".subnav")).append(e),this.win.stopScroll(),this.scroller=t,this.btns=this.win.find(".nav li"),this.navs=this.scroller.find("> nav"),this.btns.eq(0).addClass("active"),this.navs.eq(0).addClass("active")},onClickArticleMenu:function(){this.menu.hasClass("active")?(this.menu.removeClass("active"),this.win.fadeOut(300),o(document).$off("mousedown",this.onDomMouseDown,this),o(window).$off("resize",this.alignArticleMenu,this)):(this.menu.addClass("active"),this.win.fadeIn(300),this.alignArticleMenu(),o(document).$on("mousedown",this.onDomMouseDown,this),o(window).$on("resize",this.alignArticleMenu,this))},alignArticleMenu:function(){this.win.alignTo(this.menu,"br")},onDomMouseDown:function(t){o(t.target).closest(this.menu).length||o(t.target).closest(this.win).length||(this.win.fadeOut(300),this.menu.removeClass("active"),o(document).$off("mousedown",this.onDomMouseDown,this),o(window).$off("resize",this.alignArticleMenu,this))},onEnterArticleNavBtn:function(t){var e=o(t.target).closest("li"),i=e.index(),n=this.navs.eq(i);n.length&&(this.btns.removeClass("active"),e.addClass("active"),this.navs.removeClass("active"),n.addClass("active"))},initArticleSearch:function(){var e=this.el.find(".search"),i=e.find("input[type=submit]"),n=e.find("input[type=text]"),s=e.find(".search-close");i.$on("click",function(t){e.is(".active")&&n.val()||t.preventDefault()}),i.$on("click",function(t){e.addClass("active"),s.stop().fadeIn(300),n.focus(),n.val()?i.addClass("valid"):i.removeClass("valid")}),i.addClass("valid"),s.$on("click",function(t){e.removeClass("active"),s.stop().fadeOut(300),i.addClass("valid")})}}),apower.subheader=o.registerOnce(".subheader",{props:["fixed-screen"],fixedScreen:!1,visible:!1,whenToShow:void 0,whenToHide:1/0,init:function(){this.whenToShow=o(window).height(),this.fixedScreen||(768<window.innerWidth?apower.scroller.on("scroll",this.onScroll,this):(apower.scroller.on("up",this.onScrollUp,this),apower.scroller.on("down",this.onScrollDown,this)))},onScroll:function(t){var e=t>=this.whenToShow&&t<this.whenToHide;e!==this.visible&&(e?this.el.stop().fadeIn(300):this.el.stop().fadeOut(300)),this.visible=e},onScrollUp:function(){this.el.stop().hide()},onScrollDown:function(){this.el.stop().show()}}),o.registerOnce(function(){(["product","article","page","activity"].includes(apower.pageType)&&56!=apower.productId&&96!=apower.productId||location.pathname.includes("promotion")||location.pathname.includes("vote"))&&o.newCom("fixed-share",null,{hasWeixin:!0})}),o.register("activity-win","win",{selector:".activity-win",autoDestroy:!0,expiredAfter:36e5,init:function(){o.store.get("activity_closed")?(o(".activity-mask").hide(),this.hide()):(this.el.css("display","flex"),o(".activity-win").show(),o(".activity-mask").show(),o(".rightxmas").hide()),this.el.find(".win-close")||(this.closeEl=this.createFromTemplate('<div class="win-close" ref="closeEl"><icon type="close-wide"></icon></div>').appendTo(this.el),this.closeEl.on("click",this.whenCloseWin,this))},onReady:function(){},whenCloseWin:function(){this.hide(),o(".activity-mask").hide(),o.store.set("activity_closed",!0,this.expiredAfter)}}),o.registerOnce(".activity-poster",{expiredAfter:36e5,init:function(){this.el.appendTo("body"),this.el.animate({bottom:0},400),this.el.find(".close").$on("click",this.onClickClose,this),o.store.get("activity_closed")||this.el.fadeIn(200)},onClickClose:function(t){t.preventDefault(),this.el.fadeOut(200),o.store.set("activity_closed",!0,this.expiredAfter)}}),o.extend(o.getComponent("language-win").prototype,{template:'\n\t\t<nav class="win language-win">\n\t\t\t<ul class="win-body">\n\t\t\t\t<li f-for="item of data" :class="item[0]"><a :href="getURL(item[1])">{{item[3]}}</a></li>\n\t\t\t</ul>\n\t\t</nav>\n\t',data:[["us","en","USA","English"],["fr","fr","France","Français"],["de","de","Deutschland","Deutsch"],["it","it","Italia","Italiano"],["se","sv","Sverige","Svenska"],["nl","nl","Nederland","Nederlands"],["es","es","España","Español"],["fi","fi","Suomi","Suomi"],["no","no","Norge","Norsk"],["dk","da","Danmark","Dansk"],["tr","tr","Türkiye","Türkçe"],["pl","pl","Polska","Polski"],["jp","ja","日本","日本語"],["tw","tw","中國台灣","繁體中文"],["cn","zh","中国","简体中文"],["hu","hu","Magyarországon","Magyar"],["cz","cs","Čeština","Čeština"],["gr","el","Ελλάδα","ελληνικά"],["pt","pt","Portugal","Português"]],autoDestroy:!0,target:"body",onCreated:function(){this.apower=apower},getURL:function(t){return apower.getDomain(t)}}),o.getComponent("icon").extendSymbols({down:'\t\t<svg viewBox="0 0 12 12">\t\t\t<polyline style="stroke-linecap:round;" points="1.5,3.3 6,8.3 10.5,3.3"/>\t\t</svg>\t',search:'\t\t<svg viewBox="0 0 20 20">\t\t\t<circle style="stroke-miterlimit:10;" cx="8.5" cy="8.5" r="7"/>\t\t\t<line style="stroke-width:2;stroke-linecap:round;stroke-miterlimit:10;" x1="15.8" y1="15.7" x2="18.5" y2="18.4"/>\t\t</svg>\t',"search-thick":'\t\t<svg viewBox="0 0 17 17">\t\t\t<circle style="stroke-width:2;stroke-linecap:round;stroke-linejoin:round;" cx="7.5" cy="7.5" r="6.5"/>\t\t\t<line style="stroke-width:2;stroke-linecap:round;stroke-linejoin:round;" x1="14" y1="14" x2="16" y2="16"/>\t\t\t<path style="stroke-linecap:round;stroke-linejoin:round;" d="M4.5,7c0-1.9,1.6-3.5,3.5-3.5"/>\t\t</svg>\t',star:'\t\t<svg viewBox="0 0 22 22">\t\t\t<path style="fill:currentColor; stroke:none;" d="M19,9.2c-0.1-0.3-0.4-0.5-0.7-0.6L13.8,8l-2-4c-0.2-0.3-0.5-0.5-0.8-0.5c-0.3,0-0.6,0.2-0.8,0.5l-2,4L3.7,8.6C3.4,8.6,3.1,8.9,3,9.2C2.9,9.5,3,9.8,3.3,10l3.2,3.1l-0.8,4.4c-0.1,0.3,0.1,0.6,0.3,0.8c0.3,0.2,0.7,0.3,1,0.1l4-2.1l4,2.1c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.4-0.1,0.5-0.2c0.3-0.2,0.4-0.5,0.3-0.8l-0.8-4.4l3.2-3.1C19,9.8,19.1,9.5,19,9.2z"/>\t\t</svg>\t',radio:'\t\t<svg viewBox="0 0 18 18">\t\t\t<path style="stroke:none; fill:currentColor" d="M12.7,4.3C11,6.6,8.9,9.1,8.1,12c-0.9-1-1.9-2-2.9-2.8c-0.7-0.5-1.6,0.4-0.9,1c1.3,1,2.5,2.3,3.7,3.6c0.3,0.3,1,0.2,1.1-0.3C9.6,10.3,12,7.6,13.9,5C14.4,4.3,13.2,3.6,12.7,4.3"/>\t\t</svg>\t',checkbox:'\t\t<svg viewBox="0 0 18 18">\t\t\t<path style="stroke:none; fill:currentColor" d="M12.7,4.3C11,6.6,8.9,9.1,8.1,12c-0.9-1-1.9-2-2.9-2.8c-0.7-0.5-1.6,0.4-0.9,1c1.3,1,2.5,2.3,3.7,3.6c0.3,0.3,1,0.2,1.1-0.3C9.6,10.3,12,7.6,13.9,5C14.4,4.3,13.2,3.6,12.7,4.3"/>\t\t</svg>\t',up:'\t\t<svg viewBox="0 0 10 10">\t\t\t<polyline style="stroke-linecap:round;stroke-miterlimit:10;" points="9.5,7.3 5,2.3 0.5,7.3"/>\t\t</svg>\t',close:'\t\t<svg viewBox="0 0 10 10">\t\t\t<rect x="4.5" y="-1.5" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -2.0563 4.9852)" style="fill:currentColor;stroke:none;" width="1" height="13"/>\t\t\t<rect x="-1.5" y="4.5" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -2.0919 5)" style="fill:currentColor;stroke:none;" width="13" height="1"/>\t\t</svg>\t',"close-wide":'\t\t<svg viewBox="0 0 12 12">\t\t\t<line style="stroke-width:2;stroke-linecap:round;stroke-linejoin:round;" x1="1" y1="1" x2="11" y2="11"/>\t\t\t<line style="stroke-width:2;stroke-linecap:round;stroke-linejoin:round;" x1="11" y1="1" x2="1" y2="11"/>\t\t</svg>\t',store:'\t\t<svg viewBox="0 0 17 17">\t\t\t<path style="stroke-width:2;stroke-linecap:round;stroke-linejoin:round;" d="M1,1.1c0,0,1.5-0.5,2.4,0.4c1.2,1.2,0.9,0.9,2.4,6.9c0.5,2.1,2,2,2,2s3.6,0,4.7,0c0.6,0,1.8,0,2.3-0.9C15.1,8.8,16,6,16,6s0.5-1.9-2.1-1.9c-2.7,0-5.3,0-5.3,0"/>\t\t\t<ellipse style="fill:currentColor;stroke:none;" cx="12.6" cy="13.4" rx="1.4" ry="1.5"/>\t\t\t<ellipse style="fill:currentColor;stroke:none;" cx="7" cy="14.1" rx="1.9" ry="1.9"/>\t\t\t<line style="stroke-linecap:round;stroke-linejoin:round;" x1="12.7" y1="6" x2="11.8" y2="8.1"/>\t\t</svg>\t'}),o.extend(o.getComponent("language-select").prototype,{template:'\n\t\t<div class="language-select" @click="openWin">\n\t\t\t<div class="language-select-name"></div>\n\t\t\t<icon type="up"></icon>\n\t\t</div>\n\t',openWin:function(){o.newComponent("language-win").show()}}),o.extend(o.getDirective("render-on").prototype,{bind:function(){this.value=this.exp,("mobile"===this.value&&o(window).width()<=768||"pc"===this.value&&768<o(window).width())&&this.layout()}}),location.host.includes("apowersoft")&&(o.hasComponent("header-account-entry")&&o.extend(o.getComponent("header-account-entry").prototype,{onLogined:function(){return apower.support.post("do-login")},onLogout:function(e){return _asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,apower.support.post("do-logout",{identity_token:e});case 2:location.href="/";case 3:case"end":return t.stop()}},t)}))()},onClick:function(){o(".header .menu").addClass("active"),apower.user.isLogined()||o.newComponent("login").show()}}),!apower.user||apower.user.isLogined()||(t=o.parseQuery(location.search)).identity_token&&apower.user.loginByPost({identity_token:t.identity_token})),o.extend(o.getDirective("right-bar").prototype,{rates:{news:-1,share:-1,review:apower.productId&&"Order"!=apower.pageType?.5:-1,comment:-1,community:.5,rocket:.5,download:.5,support:.5,weixin:0,faq:-1,facebook:-1}}),o.registerOnce(".subheader .open-reviews",{init:function(){this.el.$on("click",this.openReviews,this)},openReviews:function(){(o(".review-win").com()||o.newCom("review")).show()}}),o.registerOnce("a",{init:function(){this.el.on("click",this.onClick,this)},onClick:function(t){var e=o(t.currentTarget);"blank"===e.data("target")||e.attr("target","")}}),o.extend(o.getComponent("fixed-share").prototype,{template:function(){var t=o.getDirective("bind-share").prototype.links,e=this.hasWeixin&&t.weixin&&t.weixin.img;if("zh"===apower.lang)return'<div class="counted-share-vertical" data-share><ul>'+(e?'<li class="share-vertical-weixin"><div></div></li>':"")+'<li class="share-vertical-douban"><div></div></li><li class="share-vertical-qzone"><div></div></li><li class="share-vertical-weibo"><div></div></li><li class="share-vertical-tencent"><div></div></li><li class="share-vertical-youdao"><div></div></li></ul><div class="share-vertical-hidebar"></div></div>';var i="ja"===apower.lang?"hatena":"pinterest",n="ja"===apower.lang?"linkedinja":"linkedin";return"ja"===apower.lang?'<div class="counted-share-vertical" data-share><ul><li class="share-vertical-google"><div>-</div></li><li class="share-vertical-twitter"><div>{@@share}</div></li><li class="share-vertical-'+n+'"><div></div></li><li class="share-vertical-facebook"><div>-</div></li><li class="share-vertical-'+i+'"><div>-</div></li></ul><div class="share-vertical-hidebar"></div></div>':'<div class="counted-share-vertical" data-share><ul><li class="share-vertical-google"><div>-</div></li><li class="share-vertical-facebook"><div>-</div></li><li class="share-vertical-twitter"><div>{@@share}</div></li><li class="share-vertical-'+i+'"><div>-</div></li><li class="share-vertical-'+n+'"><div></div></li></ul><div class="share-vertical-hidebar"></div></div>'}}),o.extend(o.getDirective("bind-share").prototype,{links:{google:{url:"https://plus.google.com/share?url={url}&t={title}",width:500,height:500},facebook:{url:"http://www.facebook.com/sharer/sharer.php?u={url}&title={title}",width:673,height:374},twitter:{url:"https://twitter.com/intent/tweet?url={url}&text={title}",width:548,height:430},pinterest:{url:"//assets.pinterest.com/js/pinmarklet.js",append:!0,width:600,height:400},hatena:{url:"http://b.hatena.ne.jp/entry/panel/?url={url}&btitle={title}",width:365,height:220},weixin:{img:"/do.php?action=qrcode&data={url}&size=5"},douban:{url:"http://www.douban.com/share/service?href={url}&name={title}&text={text}"},qzone:{url:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={url}&title={title}&desc={text}&summary=&site="},weibo:{url:"http://service.weibo.com/share/share.php?url={url}&title={title}&searchPic=true"},tencent:{url:"http://share.v.t.qq.com/index.php?c=share&a=index&url={url}&title={title}"},youdao:{url:"http://note.youdao.com/memory/?url={url}&title={title}"},linkedinja:{img:"https://qncdncss.aoscdn.com/img/phone-mirror/linkedin-jp.png"},linkedin:{url:"https://www.linkedin.com/shareArticle?mini=true&url={url}&title={title}",width:600,height:600},zhihu:{url:"https://www.zhihu.com/org/ao-ruan-tou-ping"}},getShareLink:function(t,e,i,n){var s=this.links[t].url||this.links[t].img;"weixin"===t&&0!==s.indexOf("http")&&(s=apower.getDomain("zh")+s),"linkedinja"===t&&0!==s.indexOf("http")&&(s=apower.getDomain("ja")+s);var o={url:encodeURIComponent(e),title:encodeURIComponent(i),text:encodeURIComponent(n)};return s=s.format(o)}})}(jQuery);